<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body style="background-color: white">
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="_podblock_" style="background-color: #cccccc" valign="middle">
<big><strong><span class="_podblock_">&nbsp;</span></strong></big>
</td></tr>
</table>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#NOTE">NOTE</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a>
    <ul>
      <li><a href="#Prerequisites-for-Compiling-Perl-on-AmigaOS">Prerequisites for Compiling Perl on AmigaOS</a></li>
      <li><a href="#Starting-Perl-programs-under-AmigaOS">Starting Perl programs under AmigaOS</a></li>
      <li><a href="#Shortcomings-of-Perl-under-AmigaOS">Shortcomings of Perl under AmigaOS</a></li>
    </ul>
  </li>
  <li><a href="#INSTALLATION">INSTALLATION</a></li>
  <li><a href="#Accessing-documentation">Accessing documentation</a>
    <ul>
      <li><a href="#Manpages-for-Perl-on-AmigaOS">Manpages for Perl on AmigaOS</a></li>
      <li><a href="#Perl-HTML-Documentation-on-AmigaOS">Perl HTML Documentation on AmigaOS</a></li>
      <li><a href="#Perl-GNU-Info-Files-on-AmigaOS">Perl GNU Info Files on AmigaOS</a></li>
      <li><a href="#Perl-LaTeX-Documentation-on-AmigaOS">Perl LaTeX Documentation on AmigaOS</a></li>
    </ul>
  </li>
  <li><a href="#BUILDING-PERL-ON-AMIGAOS">BUILDING PERL ON AMIGAOS</a>
    <ul>
      <li><a href="#Build-Prerequisites-for-Perl-on-AmigaOS">Build Prerequisites for Perl on AmigaOS</a></li>
      <li><a href="#Getting-the-Perl-Source-for-AmigaOS">Getting the Perl Source for AmigaOS</a></li>
      <li><a href="#Making-Perl-on-AmigaOS">Making Perl on AmigaOS</a></li>
      <li><a href="#Testing-Perl-on-AmigaOS">Testing Perl on AmigaOS</a></li>
      <li><a href="#Installing-the-built-Perl-on-AmigaOS">Installing the built Perl on AmigaOS</a></li>
    </ul>
  </li>
  <li><a href="#PERL-5.8.0-BROKEN-IN-AMIGAOS">PERL 5.8.0 BROKEN IN AMIGAOS</a></li>
  <li><a href="#AUTHORS">AUTHORS</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>perlamiga - Perl under Amiga OS</p>

<h1 id="NOTE">NOTE</h1>

<p><b>Perl 5.8.0 cannot be built in AmigaOS. You can use either the maintenance release Perl 5.6.1 or the development release Perl 5.7.2 in AmigaOS. See <a href="#PERL-5.8.0-BROKEN-IN-AMIGAOS">&quot;PERL 5.8.0 BROKEN IN AMIGAOS&quot;</a> if you want to help fixing this problem.</b></p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<p>One can read this document in the following formats:</p>

<pre><code>        man perlamiga
        multiview perlamiga.guide</code></pre>

<p>to list some (not all may be available simultaneously), or it may be read <i>as is</i>: either as <i>README.amiga</i>, or <i>pod/perlamiga.pod</i>.</p>

<p>A recent version of perl for the Amiga can be found at the Geek Gadgets section of the Aminet:</p>

<pre><code>      http://www.aminet.net/~aminet/dev/gg</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<h2 id="Prerequisites-for-Compiling-Perl-on-AmigaOS">Prerequisites for Compiling Perl on AmigaOS</h2>

<dl>

<dt id="Unix-emulation-for-AmigaOS:-ixemul.library"><b>Unix emulation for AmigaOS: ixemul.library</b></dt>
<dd>

<p>You need the Unix emulation for AmigaOS, whose most important part is <b>ixemul.library</b>. For a minimum setup, get the latest versions of the following packages from the Aminet archives ( <a href="http://www.aminet.net/~aminet/">http://www.aminet.net/~aminet/</a> ):</p>

<pre><code>        ixemul-bin
        ixemul-env-bin
        pdksh-bin</code></pre>

<p>Note also that this is a minimum setup; you might want to add other packages of <b>ADE</b> (the <i>Amiga Developers Environment</i>).</p>

</dd>
<dt id="Version-of-Amiga-OS"><b>Version of Amiga OS</b></dt>
<dd>

<p>You need at the very least AmigaOS version 2.0. Recommended is version 3.1.</p>

</dd>
</dl>

<h2 id="Starting-Perl-programs-under-AmigaOS">Starting Perl programs under AmigaOS</h2>

<p>Start your Perl program <i>foo</i> with arguments <code>arg1 arg2 arg3</code> the same way as on any other platform, by</p>

<pre><code>        perl foo arg1 arg2 arg3</code></pre>

<p>If you want to specify perl options <code>-my_opts</code> to the perl itself (as opposed to your program), use</p>

<pre><code>        perl -my_opts foo arg1 arg2 arg3</code></pre>

<p>Alternately, you can try to get a replacement for the system&#39;s <b>Execute</b> command that honors the #!/usr/bin/perl syntax in scripts and set the s-Bit of your scripts. Then you can invoke your scripts like under UNIX with</p>

<pre><code>        foo arg1 arg2 arg3</code></pre>

<p>(Note that having *nixish full path to perl <i>/usr/bin/perl</i> is not necessary, <i>perl</i> would be enough, but having full path would make it easier to use your script under *nix.)</p>

<h2 id="Shortcomings-of-Perl-under-AmigaOS">Shortcomings of Perl under AmigaOS</h2>

<p>Perl under AmigaOS lacks some features of perl under UNIX because of deficiencies in the UNIX-emulation, most notably:</p>

<ul>

<li><p>fork()</p>

</li>
<li><p>some features of the UNIX filesystem regarding link count and file dates</p>

</li>
<li><p>inplace operation (the -i switch) without backup file</p>

</li>
<li><p>umask() works, but the correct permissions are only set when the file is finally close()d</p>

</li>
</ul>

<h1 id="INSTALLATION">INSTALLATION</h1>

<p>Change to the installation directory (most probably ADE:), and extract the binary distribution:</p>

<p>lha -mraxe x perl-$VERSION-bin.lha</p>

<p>or</p>

<p>tar xvzpf perl-$VERSION-bin.tgz</p>

<p>(Of course you need lha or tar and gunzip for this.)</p>

<p>For installation of the Unix emulation, read the appropriate docs.</p>

<h1 id="Accessing-documentation">Accessing documentation</h1>

<h2 id="Manpages-for-Perl-on-AmigaOS">Manpages for Perl on AmigaOS</h2>

<p>If you have <code>man</code> installed on your system, and you installed perl manpages, use something like this:</p>

<pre><code>        man perlfunc
        man less
        man ExtUtils.MakeMaker</code></pre>

<p>to access documentation for different components of Perl. Start with</p>

<pre><code>        man perl</code></pre>

<p>Note: You have to modify your man.conf file to search for manpages in the /ade/lib/perl5/man/man3 directory, or the man pages for the perl library will not be found.</p>

<p>Note that dot (<i>.</i>) is used as a package separator for documentation for packages, and as usual, sometimes you need to give the section - <code>3</code> above - to avoid shadowing by the <i>less(1) manpage</i>.</p>

<h2 id="Perl-HTML-Documentation-on-AmigaOS">Perl HTML Documentation on AmigaOS</h2>

<p>If you have some WWW browser available, you can build <b>HTML</b> docs. Cd to directory with <i>.pod</i> files, and do like this</p>

<pre><code>        cd /ade/lib/perl5/pod
        pod2html</code></pre>

<p>After this you can direct your browser the file <i>perl.html</i> in this directory, and go ahead with reading docs.</p>

<p>Alternatively you may be able to get these docs prebuilt from <code>CPAN</code>.</p>

<h2 id="Perl-GNU-Info-Files-on-AmigaOS">Perl GNU Info Files on AmigaOS</h2>

<p>Users of <code>Emacs</code> would appreciate it very much, especially with <code>CPerl</code> mode loaded. You need to get latest <code>pod2info</code> from <code>CPAN</code>, or, alternately, prebuilt info pages.</p>

<h2 id="Perl-LaTeX-Documentation-on-AmigaOS">Perl LaTeX Documentation on AmigaOS</h2>

<p>Can be constructed using <code>pod2latex</code>.</p>

<h1 id="BUILDING-PERL-ON-AMIGAOS">BUILDING PERL ON AMIGAOS</h1>

<p>Here we discuss how to build Perl under AmigaOS.</p>

<h2 id="Build-Prerequisites-for-Perl-on-AmigaOS">Build Prerequisites for Perl on AmigaOS</h2>

<p>You need to have the latest <b>ixemul</b> (Unix emulation for Amiga) from Aminet.</p>

<h2 id="Getting-the-Perl-Source-for-AmigaOS">Getting the Perl Source for AmigaOS</h2>

<p>You can either get the latest perl-for-amiga source from Ninemoons and extract it with:</p>

<pre><code>  tar xvzpf perl-$VERSION-src.tgz</code></pre>

<p>or get the official source from CPAN:</p>

<pre><code>  http://www.cpan.org/src/5.0</code></pre>

<p>Extract it like this</p>

<pre><code>  tar xvzpf perl-$VERSION.tar.gz</code></pre>

<p>You will see a message about errors while extracting <i>Configure</i>. This is normal and expected. (There is a conflict with a similarly-named file <i>configure</i>, but it causes no harm.)</p>

<h2 id="Making-Perl-on-AmigaOS">Making Perl on AmigaOS</h2>

<p>Remember to use a hefty wad of stack (I use 2000000)</p>

<pre><code>  sh configure.gnu --prefix=/gg</code></pre>

<p>Now type</p>

<pre><code>  make depend</code></pre>

<p>Now!</p>

<pre><code>  make</code></pre>

<h2 id="Testing-Perl-on-AmigaOS">Testing Perl on AmigaOS</h2>

<p>Now run</p>

<pre><code>  make test</code></pre>

<p>Some tests will be skipped because they need the fork() function:</p>

<p><i>io/pipe.t</i>, <i>op/fork.t</i>, <i>lib/filehand.t</i>, <i>lib/open2.t</i>, <i>lib/open3.t</i>, <i>lib/io_pipe.t</i>, <i>lib/io_sock.t</i></p>

<h2 id="Installing-the-built-Perl-on-AmigaOS">Installing the built Perl on AmigaOS</h2>

<p>Run</p>

<pre><code>  make install</code></pre>

<h1 id="PERL-5.8.0-BROKEN-IN-AMIGAOS">PERL 5.8.0 BROKEN IN AMIGAOS</h1>

<p>As told above, Perl 5.6.1 was still good in AmigaOS, as was 5.7.2. After Perl 5.7.2 (change #11423, see the Changes file, and the file pod/perlhack.pod for how to get the individual changes) Perl dropped its internal support for vfork(), and that was very probably the step that broke AmigaOS (since the ixemul library has only vfork). The build finally fails when the ext/DynaLoader is being built, and PERL ends up as &quot;0&quot; in the produced Makefile, trying to run &quot;0&quot; does not quite work. Also, executing miniperl in backticks seems to generate nothing: very probably related to the (v)fork problems. <b>Fixing the breakage requires someone quite familiar with the ixemul library, and how one is supposed to run external commands in AmigaOS without fork().</b></p>

<h1 id="AUTHORS">AUTHORS</h1>

<p>Norbert Pueschel, pueschel@imsdd.meb.uni-bonn.de Jan-Erik Karlsson, trg@privat.utfors.se</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>perl(1).</p>

<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="_podblock_" style="background-color: #cccccc" valign="middle">
<big><strong><span class="_podblock_">&nbsp;</span></strong></big>
</td></tr>
</table>

</body>

</html>


